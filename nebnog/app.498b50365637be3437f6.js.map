{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/serialization.js","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./src/water.css?9ea1","webpack:///./src/water.css","webpack:///./src/style.css?7163","webpack:///./src/style.css","webpack:///./src/spinner.css?9989","webpack:///./src/spinner.css","webpack:///./src/random.js","webpack:///./src/dropbox.js","webpack:///./src/nebnog.js","webpack:///./src/spinner.js","webpack:///./src/index.js","webpack:///./src/config.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","constructors","Map","Serialization","__serialize","__proto__","constructor","__type","type","JSON","stringify","data","Error","cons","has","set","_uCount","unserialize","pojo","parse","undefined","result","__unserialize","unserializeExisting","eval","linkRequests","getLink","id","consumer","defaultProducer","push","resetLinks","resolveLinks","links","forEach","link","Array","map","it","memo","isOldIE","Boolean","window","document","all","atob","getTarget","target","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","stylesInDom","getIndexByIdentifier","identifier","length","modulesToDom","list","options","idCountMap","identifiers","item","base","count","concat","index","obj","css","media","sourceMap","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","keys","setAttribute","insert","appendChild","textStore","replaceText","replacement","filter","join","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","btoa","unescape","encodeURIComponent","firstChild","singleton","singletonCounter","update","styleIndex","parentNode","removeStyleElement","newObj","lastIdentifiers","newList","toString","newLastIdentifiers","_i","_index","splice","useSourceMap","this","content","cssMapping","sourceMapping","base64","sourceURLs","sources","source","sourceRoot","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","api","default","locals","___CSS_LOADER_API_IMPORT___","random","min","max","Math","round","UnauthorizedException","message","super","ConflictException","chars","split","charsToEncode","http_header_safe_json","v","replace","charCodeAt","slice","NebNogField","optional","_optional","registerConstructor","TextField","assign","rows","minLen","maxLen","regex","_minLen","_maxLen","_regex","_rows","el","minLength","maxLength","match","BooleanField","yes","no","_yes","_no","onchange","checked","SelectionField","_options","indexOf","emptyOpt","text","add","opt","_fields","f","field","fields","serialize","NotValidExeption","NebNogNote","template","nebnog","_template","_nebnog","_values","getField","validate","_saveNote","getAllFields","values","indention","appendZero","spinners","unspinner","body","nesting","spinnerDiv","delete","withSpinner","promise","position","left","offsetLeft","top","offsetTop","width","offsetWidth","height","offsetHeight","backgroundColor","opacity","classList","innerText","then","catch","reason","btnAuth","getElementById","authForm","addNoteForm","btnCreate","auth","clientId","redirectUri","_clientId","_redirectUri","_code","_tokenInfo","_obtainedAt","_inprogress","_inprogressPromises","_codeChallenge","_localStorageKey","localStorageKey","_restore","_persist","localStorage","setItem","codeChallenge","tokenInfo","code","obtainedAt","getItem","removeItem","a","url","reset","refresh","refreshToken","_addToWaitList","token","_exchangeForCode","_refresh","Date","getTime","expires_at","Promise","resolve","access_token","URLSearchParams","append","_startProgress","fetch","method","response","ok","json","_endProgress","waitList","refresh_token","oldTokenInfo","location","href","persist","dropbox","_auth","path","_withToken","headers","recursive","include_deleted","include_has_explicit_shared_members","include_mounted_folders","include_non_downloadable_files","entries","cursor","has_more","_listTheRest","allOtherEntries","allEntries","request","autorename","mute","strict_conflict","bodyExtractor","noTokenRefresh","status","reject","_dropbox","_templates","files","download","contents","_addTemplate","upload","templateName","note","noteJson","now","month","getMonth","day","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","getFullYear","toText","search","mark","after","setTimeout","error","nextSibling","contains","setCode","history","replaceState","pathname","display","present","loadTemplates","size","templates","addField","addTemplate","createDefaultTemplates","$","innerHTML","noteTemplate","onclick","newWindow","w","open","focus","close","openUrl","generateAuthLink","disabled","noteFields","clear","selectedIndex","toHtmlElement","required","tagName","label","htmlFor","createNote","valid","querySelectorAll","setFieldValue","save"],"mappings":"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","file":"app.498b50365637be3437f6.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","/**@type {Map<string, () => any>} */\nconst constructors = new Map();\n\nconst Serialization = {};\n\n/**\n * @param {{__serialize: () => any}} o \n * @returns {string}\n */\nSerialization.serialize = o => {\n  if (typeof o.__serialize === \"function\" && o.__proto__.constructor.__type) {\n    let type = o.__proto__.constructor.__type;\n    return JSON.stringify({\n      type,\n      data: o.__serialize()\n    });\n  } else {\n    throw new Error(\"Can't serialize \" + o);\n  }\n};\n\n/**\n * @param {string} name \n * @param {() => any} cons \n */\nSerialization.registerConstructor = (name, cons) => {\n  if (constructors.has(name)) throw new Error(\"The constructor already exist: \" + name);\n  constructors.set(name, cons);\n}\n\nlet _uCount = 0;\n\n/**\n * @param {string | object} s \n * @returns {any}\n */\nSerialization.unserialize = (s) => {\n  let pojo = s;\n  if (typeof pojo == \"string\") pojo = JSON.parse(pojo);\n\n  if (pojo.type) {\n    try {\n      _uCount++;\n      let cons = constructors.get(pojo.type);\n      if (cons === undefined) throw new Error(\"No constructor registered for type: \" + pojo.type);\n      let result = cons();\n      result.__unserialize(pojo.data);\n      return result;\n    } finally {\n      _uCount--;\n    }\n  } else {\n    throw new Error(\"'type' expected. Can't unserialize \" + pojo);\n  }\n};\n\n/**\n * @param {{ __unserialize: (arg0: any) => void; }} o\n * @param {string} s\n */\nSerialization.unserializeExisting = (o, s) => {\n  let pojo = JSON.parse(s);\n  if (pojo.type) {\n    let constructor = eval(pojo.type);\n    if (!constructor.prototype.__unserialize) throw new Error(\"Type \" + constructor.name + \" has no __unserialize instance method\");\n    if (o instanceof constructor) o.__unserialize(pojo.data);\n    else throw new Error(\"Instance is not of the type \" + pojo.type);\n  } else {\n    throw new Error(\"Can't unserialize \" + pojo);\n  }\n};\n\nSerialization.linkRequests = [];\n\nSerialization.getLink = (id, consumer, defaultProducer) => {\n  defaultProducer = defaultProducer || (() => undefined);\n  if (_uCount == 0) throw new Error(\"getLink can only be called inside __unserialize mathod\");\n  Serialization.linkRequests.push({id, consumer, defaultProducer});\n};\n\nSerialization.resetLinks = () => Serialization.linkRequests = [];\n\nSerialization.resolveLinks = links => {\n  if (_uCount != 0) throw new Error(\"resolveLinks can only be called outside __unserialize mathod\");\n  Serialization.linkRequests.forEach(r => {\n    let link;\n    if (r.id instanceof Array) {\n      link = r.id.map(it => {\n        let link = links.get(it);\n        if (link === undefined) {\n          if (r.defaultProducer) link = r.defaultProducer();\n          throw new Error(\"Unresolved link\");\n        }\n      });\n    } else {\n      link = links.get(r.id);\n      if (link === undefined) {\n        if (r.defaultProducer) link = r.defaultProducer();\n        else throw new Error(\"Unresolved link\");\n      }\n    }\n    r.consumer(link);\n  });\n};\n\nexport default Serialization;","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!./water.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/**\\n * Light-themed version:\\n * uses light theme by default but switches to dark theme\\n * if a system-wide theme preference is set on the user's device.\\n *\\n * Variables will remain uncompiled so the theme can update dynamically\\n * at runtime in the browser.\\n */\\n\\n :root {\\n  --background-body: #fff;\\n  --background: #efefef;\\n  --background-alt: #f7f7f7;\\n  --selection: #9e9e9e;\\n  --text-main: #363636;\\n  --text-bright: #000;\\n  --text-muted: #999;\\n  --links: #0076d1;\\n  --focus: #0096bfab;\\n  --border: #dbdbdb;\\n  --code: #000;\\n  --animation-duration: 0.1s;\\n  --button-hover: #ddd;\\n  --scrollbar-thumb: rgb(213, 213, 213);\\n  --scrollbar-thumb-hover: rgb(196, 196, 196);\\n  --form-placeholder: #949494;\\n  --form-text: #000;\\n  --variable: #39a33c;\\n  --highlight: #ff0;\\n  --select-arrow: url(\\\"data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E %3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='62.5' width='116.9' fill='%23161f27'%3E %3Cpath d='M115.3,1.6 C113.7,0 111.1,0 109.5,1.6 L58.5,52.7 L7.4,1.6 C5.8,0 3.2,0 1.6,1.6 C0,3.2 0,5.8 1.6,7.4 L55.5,61.3 C56.3,62.1 57.3,62.5 58.4,62.5 C59.4,62.5 60.5,62.1 61.3,61.3 L115.2,7.4 C116.9,5.8 116.9,3.2 115.3,1.6Z'/%3E %3C/svg%3E\\\");\\n}\\n\\n@media (prefers-color-scheme: dark) {\\n:root {\\n  --background-body: #202b38;\\n  --background: #161f27;\\n  --background-alt: #1a242f;\\n  --selection: #161f27;\\n  --text-main: #dbdbdb;\\n  --text-bright: #fff;\\n  --text-muted: #717880;\\n  --links: #41adff;\\n  --focus: #0096bfab;\\n  --border: #dbdbdb;\\n  --code: #ffbe85;\\n  --animation-duration: 0.1s;\\n  --button-hover: #324759;\\n  --scrollbar-thumb: var(--button-hover);\\n  --scrollbar-thumb-hover: rgb(20, 20, 20);\\n  --form-placeholder: #a9a9a9;\\n  --form-text: #fff;\\n  --variable: #d941e2;\\n  --highlight: #efdb43;\\n  --select-arrow: url(\\\"data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E %3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='62.5' width='116.9' fill='%23efefef'%3E %3Cpath d='M115.3,1.6 C113.7,0 111.1,0 109.5,1.6 L58.5,52.7 L7.4,1.6 C5.8,0 3.2,0 1.6,1.6 C0,3.2 0,5.8 1.6,7.4 L55.5,61.3 C56.3,62.1 57.3,62.5 58.4,62.5 C59.4,62.5 60.5,62.1 61.3,61.3 L115.2,7.4 C116.9,5.8 116.9,3.2 115.3,1.6Z'/%3E %3C/svg%3E\\\");\\n}\\n}\\n\\nbody {\\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\\n  line-height: 1.4;\\n\\n  max-width: 800px;\\n  margin: 20px auto;\\n  padding: 0 10px;\\n  word-wrap: break-word;\\n\\n  color: var(--text-main);\\n  background: var(--background-body);\\n\\n  text-rendering: optimizeLegibility;\\n}\\n\\nbutton, input, textarea {\\n  transition: background-color var(--animation-duration) linear,\\n              border-color var(--animation-duration) linear,\\n              color var(--animation-duration) linear,\\n              box-shadow var(--animation-duration) linear,\\n              transform var(--animation-duration) ease;\\n}\\n\\nh1 {\\n  font-size: 2.2em;\\n  margin-top: 0;\\n}\\n\\nh1,\\nh2,\\nh3,\\nh4,\\nh5,\\nh6 {\\n  margin-bottom: 12px;\\n}\\n\\nh1,\\nh2,\\nh3,\\nh4,\\nh5,\\nh6,\\nstrong {\\n  color: var(--text-bright);\\n}\\n\\nh1,\\nh2,\\nh3,\\nh4,\\nh5,\\nh6,\\nb,\\nstrong,\\nth {\\n  font-weight: 600;\\n}\\n\\nq::before {\\n   content: none;\\n}\\n\\nq::after {\\n   content: none;\\n}\\n\\nblockquote, q {\\n  border-left: 4px solid var(--focus);\\n  margin: 1.5em 0em;\\n  padding: 0.5em 1em;\\n  font-style: italic;\\n}\\n\\nblockquote > footer {\\n  font-style: normal;\\n  border: 0;\\n}\\n\\nblockquote cite {\\n  font-style: normal;\\n}\\n\\naddress {\\n  font-style: normal;\\n}\\n\\na[href^='mailto\\\\:']::before {\\n  content: '📧 ';\\n}\\n\\na[href^='tel\\\\:']::before {\\n  content: '📞 ';\\n}\\n\\na[href^='sms\\\\:']::before {\\n  content: '💬 ';\\n}\\n\\nmark {\\n  background-color: var(--highlight);\\n  border-radius: 2px;\\n  padding: 0px 2px 0px 2px;\\n  color: #000000;\\n}\\n\\nbutton, select,\\ninput[type='submit'],\\ninput[type='button'],\\ninput[type='checkbox'],\\ninput[type='range'],\\ninput[type='radio'] {\\n  cursor: pointer;\\n}\\n\\ninput:not([type='checkbox']):not([type='radio']),\\nselect {\\n  display: block;\\n}\\n\\ninput,\\nbutton,\\ntextarea,\\nselect {\\n  color: var(--form-text);\\n  background-color: var(--background);\\n\\n  font-family: inherit;\\n  font-size: inherit;\\n\\n  margin-right: 6px;\\n  margin-bottom: 6px;\\n  padding: 10px;\\n\\n  border: none;\\n  border-radius: 6px;\\n  outline: none;\\n}\\n\\ninput,\\nselect,\\nbutton,\\ntextarea {\\n  -webkit-appearance: none;\\n}\\n\\ntextarea {\\n  margin-right: 0;\\n  width: 100%;\\n  box-sizing: border-box;\\n  resize: vertical;\\n}\\n\\nselect {\\n  background: var(--background) var(--select-arrow) calc(100% - 12px) 50% / 12px no-repeat;\\n  padding-right: 35px;\\n}\\n\\nselect::-ms-expand {\\n  display: none;\\n}\\n\\nselect[multiple] {\\n  padding-right: 10px;\\n  background-image: none;\\n  overflow-y: auto;\\n}\\n\\nbutton,\\ninput[type='submit'],\\ninput[type='button'] {\\n  padding-right: 30px;\\n  padding-left: 30px;\\n}\\n\\nbutton:hover,\\ninput[type='submit']:hover,\\ninput[type='button']:hover {\\n  background: var(--button-hover);\\n}\\n\\ninput:focus,\\nselect:focus,\\nbutton:focus,\\ntextarea:focus {\\n  box-shadow: 0 0 0 2px var(--focus);\\n}\\n\\ninput[type='checkbox'],\\ninput[type='radio'] {\\n  position: relative;\\n  width: 14px;\\n  height: 14px;\\n  display: inline-block;\\n  vertical-align: middle;\\n  margin: 0;\\n  margin-right: 2px;\\n}\\n\\ninput[type='radio'] {\\n  border-radius: 50%;\\n}\\n\\ninput[type='checkbox']:checked,\\ninput[type='radio']:checked {\\n  background: var(--button-hover);\\n}\\n\\ninput[type='checkbox']:checked::before,\\ninput[type='radio']:checked::before {\\n  content: '•';\\n  display: block;\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  transform: translateX(-50%) translateY(-50%);\\n}\\n\\ninput[type='checkbox']:checked::before {\\n  content: '✔';\\n  transform: translateY(-50%) translateY(0.5px) translateX(-6px);\\n}\\n\\ninput[type='checkbox']:active,\\ninput[type='radio']:active,\\ninput[type='submit']:active,\\ninput[type='button']:active,\\ninput[type='range']:active,\\nbutton:active {\\n  transform: translateY(2px);\\n}\\n\\ninput:disabled,\\nselect:disabled,\\nbutton:disabled,\\ntextarea:disabled {\\n  cursor: not-allowed;\\n  opacity: 0.5;\\n}\\n\\n::-webkit-input-placeholder {\\n  color: var(--form-placeholder);\\n}\\n\\n::-moz-placeholder {\\n  color: var(--form-placeholder);\\n}\\n\\n::-ms-input-placeholder {\\n  color: var(--form-placeholder);\\n}\\n\\n::placeholder {\\n  color: var(--form-placeholder);\\n}\\n\\nfieldset {\\n  border: 1px var(--focus) solid;\\n  border-radius: 6px;\\n  margin: 0;\\n  margin-bottom: 6px;\\n  padding: 10px;\\n}\\n\\nlegend {\\n  font-size: 0.9em;\\n  font-weight: 600;\\n}\\n\\ninput[type='range'] {\\n  margin: 10px 0;\\n  padding: 10px 0;\\n  background: transparent;\\n}\\n\\ninput[type='range']:focus {\\n  outline: none;\\n}\\n\\ninput[type='range']::-webkit-slider-runnable-track {\\n  width: 100%;\\n  height: 9.5px;\\n  transition: 0.2s;\\n  background: var(--background);\\n  border-radius: 3px;\\n}\\n\\ninput[type='range']::-webkit-slider-thumb {\\n  box-shadow: 0px 1px 1px #000000, 0px 0px 1px #0d0d0d;\\n  height: 20px;\\n  width: 20px;\\n  border-radius: 50%;\\n  background: var(--border);\\n  -webkit-appearance: none;\\n  margin-top: -7px;\\n}\\n\\ninput[type='range']:focus::-webkit-slider-runnable-track {\\n  background: var(--background);\\n}\\n\\ninput[type='range']::-moz-range-track {\\n  width: 100%;\\n  height: 9.5px;\\n  transition: 0.2s;\\n  background: var(--background);\\n  border-radius: 3px;\\n}\\n\\ninput[type='range']::-moz-range-thumb {\\n  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\\n  height: 20px;\\n  width: 20px;\\n  border-radius: 50%;\\n  background: var(--border);\\n}\\n\\ninput[type='range']::-ms-track {\\n  width: 100%;\\n  height: 9.5px;\\n  background: transparent;\\n  border-color: transparent;\\n  border-width: 16px 0;\\n  color: transparent;\\n}\\n\\ninput[type='range']::-ms-fill-lower {\\n  background: var(--background);\\n  border: 0.2px solid #010101;\\n  border-radius: 3px;\\n  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\\n}\\n\\ninput[type='range']::-ms-fill-upper {\\n  background: var(--background);\\n  border: 0.2px solid #010101;\\n  border-radius: 3px;\\n  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\\n}\\n\\ninput[type='range']::-ms-thumb {\\n  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\\n  border: 1px solid #000000;\\n  height: 20px;\\n  width: 20px;\\n  border-radius: 50%;\\n  background: var(--border);\\n}\\n\\ninput[type='range']:focus::-ms-fill-lower {\\n  background: var(--background);\\n}\\n\\ninput[type='range']:focus::-ms-fill-upper {\\n  background: var(--background);\\n}\\n\\na {\\n  text-decoration: none;\\n  color: var(--links);\\n}\\n\\na:hover {\\n  text-decoration: underline;\\n}\\n\\ncode, samp, time {\\n  background:  var(--background);\\n  color: var(--code);\\n  padding: 2.5px 5px;\\n  border-radius: 6px;\\n  font-size: 1em;\\n}\\n\\npre > code {\\n  padding: 10px;\\n  display: block;\\n  overflow-x: auto;\\n}\\n\\nvar {\\n  color: var(--variable);\\n  font-style: normal;\\n  font-family: monospace;\\n}\\n\\nkbd {\\n  background: var(--background);\\n  border: 1px solid var(--border);\\n  border-radius: 2px;\\n  color: var(--text-main);\\n  padding: 2px 4px 2px 4px;\\n}\\n\\nimg {\\n  max-width: 100%;\\n  height: auto;\\n}\\n\\nhr {\\n  border: none;\\n  border-top: 1px solid var(--border);\\n}\\n\\ntable {\\n  border-collapse: collapse;\\n  margin-bottom: 10px;\\n  width: 100%;\\n}\\n\\ntd,\\nth {\\n  padding: 6px;\\n  text-align: left;\\n}\\n\\nthead {\\n  border-bottom: 1px solid var(--border);\\n}\\n\\ntfoot {\\n  border-top: 1px solid var(--border);\\n}\\n\\ntbody tr:nth-child(even) {\\n  background-color: var(--background-alt);\\n}\\n\\n::-webkit-scrollbar {\\n  height: 10px;\\n  width: 10px;\\n}\\n\\n::-webkit-scrollbar-track {\\n  background: var(--background);\\n  border-radius: 6px;\\n}\\n\\n::-webkit-scrollbar-thumb {\\n  background: var(--scrollbar-thumb);\\n  border-radius: 6px;\\n}\\n\\n::-webkit-scrollbar-thumb:hover {\\n  background: var(--scrollbar-thumb-hover);\\n}\\n\\n::-moz-selection {\\n  background-color: var(--selection);\\n}\\n\\n::selection {\\n  background-color: var(--selection);\\n}\\n\\ndetails {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-start;\\n  background-color: var(--background-alt);\\n  padding: 10px 10px 0;\\n  margin: 1em 0;\\n  border-radius: 6px;\\n  overflow: hidden;\\n}\\n\\ndetails[open] {\\n  padding: 10px;\\n}\\n\\ndetails > :last-child {\\n  margin-bottom: 0;\\n}\\n\\ndetails[open] summary {\\n  margin-bottom: 10px;\\n}\\n\\nsummary {\\n  display: list-item;\\n  background-color: var(--background);\\n  padding: 10px;\\n  margin: -10px -10px 0;\\n}\\n\\ndetails > :not(summary) {\\n  margin-top: 0;\\n}\\n\\nsummary::-webkit-details-marker {\\n  color: var(--text-main);\\n}\\n\\nfooter {\\n  border-top: 1px solid var(--background);\\n  padding-top: 10px;\\n  font-size: 0.8em;\\n  color: var(--text-muted);\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!./style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".error {\\n  outline: 2px solid #ffcccc;\\n}\\n\\nmark.error {\\n  display: none;\\n}\\n\\n.error + mark.error {\\n  display: block;\\n  background-color: #ffcccc;\\n  color: #8a1e1e;\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!./spinner.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/* Generated by https://projects.lukehaas.me/css-loaders/ */\\n\\n.loader,\\n.loader:before,\\n.loader:after {\\n  background: #000000;\\n  -webkit-animation: load1 1s infinite ease-in-out;\\n  animation: load1 1s infinite ease-in-out;\\n  width: 1em;\\n  height: 4em;\\n}\\n.loader {\\n  color: #000000;\\n  text-indent: -9999em;\\n  margin: 88px auto;\\n  position: relative;\\n  font-size: 11px;\\n  -webkit-transform: translateZ(0);\\n  -ms-transform: translateZ(0);\\n  transform: translateZ(0);\\n  -webkit-animation-delay: -0.16s;\\n  animation-delay: -0.16s;\\n}\\n.loader:before,\\n.loader:after {\\n  position: absolute;\\n  top: 0;\\n  content: '';\\n}\\n.loader:before {\\n  left: -1.5em;\\n  -webkit-animation-delay: -0.32s;\\n  animation-delay: -0.32s;\\n}\\n.loader:after {\\n  left: 1.5em;\\n}\\n@-webkit-keyframes load1 {\\n  0%,\\n  80%,\\n  100% {\\n    box-shadow: 0 0;\\n    height: 4em;\\n  }\\n  40% {\\n    box-shadow: 0 -2em;\\n    height: 5em;\\n  }\\n}\\n@keyframes load1 {\\n  0%,\\n  80%,\\n  100% {\\n    box-shadow: 0 0;\\n    height: 4em;\\n  }\\n  40% {\\n    box-shadow: 0 -2em;\\n    height: 5em;\\n  }\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export function random(min, max) {\n  if (max === undefined) {\n    max = min;\n    min = 0;\n  }\n  return min + Math.round(Math.random() * (max - min));\n}\n\nexport function randomElement(a) {\n  return a[random(a.length - 1)];\n}\n","import {randomElement} from './random';\n\nexport class UnauthorizedException extends Error {\n  constructor(message) {\n    super(message);\n  }\n}\n\nexport class ConflictException extends Error {\n  constructor(message) {\n    super(message);\n  }\n}\n\nexport class Dropbox {\n  /**\n   * @param {DropboxAuth} auth \n   */\n  constructor(auth) {\n    this._auth = auth;\n  }\n\n  /**\n   * @param {string} path \n   * @returns {Promise<any>}\n   */\n  list(path) {\n    return this._withToken(token => fetch(\"https://api.dropboxapi.com/2/files/list_folder\", {\n      method: \"POST\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        path,\n        recursive: false,\n        include_deleted: false,\n        include_has_explicit_shared_members: false,\n        include_mounted_folders: true,\n        include_non_downloadable_files: false\n      }),\n      mode: \"cors\"\n    }))\n      .then(({entries, cursor, has_more}) => {\n        if (!has_more) return entries;\n\n        return this._listTheRest(cursor)\n          .then((allOtherEntries) => {\n            allOtherEntries.forEach(e => entries.push(e));\n            return entries;\n          });\n      })\n      .then(entries => entries.map(e => e.name));\n  }\n\n  _listTheRest(cursor) {\n    let allEntries = [];\n\n    const request = (cursor, resolve) => this._withToken(token => fetch(\"https://api.dropboxapi.com/2/files/list_folder/continue\", {\n      method: \"POST\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        cursor\n      }),\n      mode: \"cors\"\n    }))\n      .then(({entries, cursor, has_more}) => {\n        entries.forEach(e => allEntries.push(e));\n        if (!has_more) {\n          resolve(allEntries);\n          return;\n        }\n        request(cursor, resolve);\n      });\n\n    return new Promise(resolve => request(cursor, resolve));\n  }\n\n  /**\n   * @param {string} path \n   * @returns {Promise<string>}\n   */\n  download(path) {\n    return this._withToken(token => fetch(\"https://content.dropboxapi.com/2/files/download\", {\n      method: \"POST\",\n      headers: {\n        \"Dropbox-API-Arg\": http_header_safe_json({\n          path\n        }),\n        \"Authorization\": `Bearer ${token}`\n      },\n      mode: \"cors\"\n    }), response => response.text());\n  }\n\n  /**\n   * @param {string} path \n   * @param {string} content \n   * @returns {Promise<void>}\n   */\n  upload(path, content) {\n    // let buffer = new ArrayBuffer(content.length * 2);\n    // let int16View = new Int16Array(buffer);\n    // for (let i = 0; i < content.length; i++) int16View[i] = content.charCodeAt(i);\n\n    return this._withToken(token => fetch(\"https://content.dropboxapi.com/2/files/upload\", {\n      method: \"POST\",\n      headers: {\n        \"Dropbox-API-Arg\": http_header_safe_json({\n          path,\n          mode: \"add\",\n          autorename: false,\n          mute: true, \n          strict_conflict: true\n        }),\n        \"Authorization\": `Bearer ${token}`,\n        \"Content-Type\": \"application/octet-stream\"\n      },\n      body: content,\n      mode: \"cors\"\n    }));\n  }\n\n  /**\n   * @param {(token: string) => Promise<any>} f \n   * @param {((request: Response) => Promise)=} bodyExtractor\n   * @param {boolean=} noTokenRefresh\n   */\n  _withToken(f, bodyExtractor, noTokenRefresh) {\n    bodyExtractor = bodyExtractor || (response => response.json());\n\n    return this._auth.token()\n      .then(f)\n      .then(response => {\n        if (response.ok) return bodyExtractor(response);\n        \n        if (response.status == 401) {\n          if (noTokenRefresh) throw new UnauthorizedException(\"Token refresh failed\");\n\n          return this._auth.token(true).then(() => this._withToken(f, bodyExtractor, true));\n        } else if (response.status == 409) {\n          throw new ConflictException(\"Conflict\");\n        }\n\n        return Promise.reject(\"HTTP status: \" + response.status);\n      });\n  }\n}\n\nconst chars = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~\".split(\"\");\n\nexport class DropboxAuth {\n  /**\n   * @param {string} clientId \n   * @param {string=} redirectUri \n   */\n  constructor(clientId, redirectUri) {\n    this._clientId = clientId;\n    this._redirectUri = redirectUri;\n    this._code = null;\n    // {\"uid\": \"...\", \"access_token\": \"...\", \"expires_in\": 14399, \"token_type\": \"bearer\", \"refresh_token\": \"...\", \"account_id\": \"...\"}\n    this._tokenInfo = null;\n    this._obtainedAt = null;\n    this._inprogress = false;\n    this._inprogressPromises = [];\n    this._codeChallenge = null;\n    this._localStorageKey = null;\n  }\n\n  persist(localStorageKey) {\n    this._localStorageKey = localStorageKey;\n    this._restore();\n    this._persist();\n  }\n\n  _persist() {\n    if (!this._localStorageKey) return;\n    localStorage.setItem(this._localStorageKey, JSON.stringify({\n      codeChallenge: this._codeChallenge,\n      tokenInfo: this._tokenInfo,\n      code: this._code,\n      obtainedAt: this._obtainedAt\n    }));\n  }\n\n  _restore() {\n    if (!this._localStorageKey) return;\n    let pojo;\n    try {\n      pojo = JSON.parse(localStorage.getItem(this._localStorageKey));\n    } catch (e) {\n      localStorage.removeItem(this._localStorageKey);\n      pojo = null;\n    }\n    if (pojo === null) return;\n    let {codeChallenge, tokenInfo, code, obtainedAt} = pojo;\n    this._codeChallenge = codeChallenge;\n    this._tokenInfo = tokenInfo;\n    this._code = code;\n    this._obtainedAt = obtainedAt;\n  }\n\n  generateAuthLink() {\n    const L = 64;\n    this._codeChallenge = \"\";\n    for (let i = 0; i < L; i++) this._codeChallenge += randomElement(chars);\n    let url = `https://www.dropbox.com/oauth2/authorize?client_id=${this._clientId}&response_type=code&token_access_type=offline&code_challenge=${this._codeChallenge}&code_challenge_method=plain`;\n    if (this._redirectUri) url += `&redirect_uri=${encodeURIComponent(this._redirectUri)}`;\n    this._persist();\n    return url;\n  }\n\n  setCode(code) {\n    if (this._code !== null) throw new Error(\"Code has already been set\");\n    this.reset();\n    this._code = code;\n    this._persist();\n  }\n\n  reset() {\n    this._code = null;\n    this._tokenInfo = null;\n    this._obtainedAt = null;\n    this._persist();\n  }\n\n  /**\n   * @param {boolean=} refresh\n   * @param {string=} refreshToken\n   * @returns {Promise<string>}\n   */\n  token(refresh, refreshToken) {\n    if (this._inprogress) return this._addToWaitList().then(() => this.token(refresh, refreshToken));\n\n    if (this._code !== null) return this._exchangeForCode();\n\n    if (refresh) return this._refresh(refreshToken);\n\n    if (this._tokenInfo !== null) {\n      if (new Date().getTime() - this._obtainedAt >= this._tokenInfo.expires_at) {\n        return this._refresh();\n      }\n      return Promise.resolve(this._tokenInfo.access_token);\n    }\n\n    throw new Error(\"Authorization code is not present and it is not a refresh call\");\n  }\n\n  present() {\n    return this._code !== null || this._tokenInfo !== null;\n  }\n\n  /**\n   * @returns {Promise<string>}\n   */\n  _exchangeForCode() {\n    let body = new URLSearchParams();\n    body.append(\"code\", this._code);\n    body.append(\"grant_type\", \"authorization_code\");\n    body.append(\"code_verifier\", this._codeChallenge);\n    this._codeChallenge = null;\n    if (this._redirectUri) body.append(\"redirect_uri\", this._redirectUri);\n    body.append(\"client_id\", this._clientId);\n    this._code = null;\n\n    this._startProgress();\n\n    return fetch(\"https://api.dropboxapi.com/oauth2/token\", {\n      method: \"POST\",\n      body,\n      mode: \"cors\"\n    })\n      .then(response => {\n        if (!response.ok) throw new Error(\"Can't exchange token for code\");\n        this._obtainedAt = new Date().getTime();\n        return response.json();\n      })\n      .then(json => {\n        this._tokenInfo = json;\n        this._endProgress();\n        this._persist();\n        return this._tokenInfo.access_token;\n      });\n  }\n\n  _startProgress() {\n    if (this._inprogress) throw new Error(\"Already in progress\");\n    if (this._inprogressPromises.length > 0) throw new Error(\"Wait list is not empty\");\n    this._inprogress = true;\n  }\n\n  _endProgress() {\n    let waitList = this._inprogressPromises.splice(0, this._inprogressPromises.length);\n    this._inprogress = false;\n    for (let resolve of waitList) resolve();\n  }\n\n  _addToWaitList() {\n    let p = new Promise(resolve => {\n      this._inprogressPromises.push(resolve);\n    });\n    \n    return p;\n  }\n\n  /**\n   * @param {string=} refreshToken\n   * @returns {Promise<string>}\n   */\n  _refresh(refreshToken) {\n    if (this._tokenInfo === null && !refreshToken) throw new Error(\"No refresh token either passed or stored\");\n\n    this._startProgress();\n\n    let body = new URLSearchParams();\n    body.append(\"refresh_token\", refreshToken || this._tokenInfo.refresh_token);\n    body.append(\"grant_type\", \"refresh_token\");\n    body.append(\"client_id\", this._clientId);\n\n    let oldTokenInfo = this._tokenInfo;\n    this._tokenInfo = null;\n    \n    return fetch(\"https://api.dropboxapi.com/oauth2/token\", {\n      method: \"POST\",\n      body,\n      mode: \"cors\"\n    })\n      .then(response => {\n        if (!response.ok) throw new Error(\"Can't refresh token\");\n        this._obtainedAt = new Date().getTime();\n        return response.json();\n      })\n      .then(json => {\n        this._endProgress();\n        this._tokenInfo = Object.assign(oldTokenInfo, json);\n        this._persist();\n        return this._tokenInfo.access_token;\n      });\n  }\n}\n\nconst charsToEncode = /[\\u007f-\\uffff]/g;\n\n// see https://www.dropbox.com/developers/reference/json-encoding\n// This function is simple and has OK performance compared to more\n// complicated ones: http://jsperf.com/json-escape-unicode/4\nfunction http_header_safe_json(v) {\n  return JSON.stringify(v).replace(charsToEncode,\n    function(c) {\n      return '\\\\u'+('000'+c.charCodeAt(0).toString(16)).slice(-4);\n    }\n  );\n}\n","import {Dropbox, ConflictException} from './dropbox';\nimport S from './serialization';\n\nexport class NebNog {\n  /**\n   * @param {Dropbox} dropbox \n   */\n  constructor(dropbox) {\n    this._dropbox = dropbox;\n\n    /**@type {Map<string, NebNogTemplate>} */\n    this._templates = new Map();\n  }\n\n  /**\n   * @returns {Promise<void>}\n   */\n  loadTemplates() {\n    return this._dropbox.list(\"/.templates\")\n      .then(files => {\n        return Promise.all(files.map(f => this._dropbox.download(`/.templates/${f}`)))\n          .then(contents => contents.forEach(content => this._addTemplate(S.unserialize(content))));\n      })\n      .catch(e => {\n        if (e instanceof ConflictException) return;\n        else throw e;\n      });\n  }\n\n  /**\n   * @param {NebNogTemplate} template\n   * @returns {Promise<void>}\n   */\n  addTemplate(template) {\n    let path = `/.templates/${template.name}.json`;\n\n    return this._dropbox.upload(path, S.serialize(template))\n      .catch(e => {\n        if (e instanceof ConflictException) {\n          throw new Error(\"You are making notes too frequently. Calm down a bit.\");\n        }\n        throw e;\n      })\n      .then(() => {\n        this._addTemplate(template);\n      });\n  }\n\n  /**\n   * @param {NebNogTemplate} template\n   */\n  _addTemplate(template) {\n    this._templates.set(template.name, template);\n  }\n\n  /**\n   * @param {string} templateName \n   */\n  createNote(templateName) {\n    let template = this._templates.get(templateName);\n    if (template === undefined) throw new Error(`No such template: ${templateName}`);\n    return new NebNogNote(template, this);\n  }\n\n  /**\n   * @param {NebNogNote} note \n   * @returns {Promise<void>}\n   */\n  _saveNote(note) {\n    let now = new Date();\n    let month = appendZero(now.getMonth() + 1);\n    let day = appendZero(now.getDate());\n    let hour = appendZero(now.getHours());\n    let minutes = appendZero(now.getMinutes());\n    let seconds = appendZero(now.getSeconds());\n    let path = `/${now.getFullYear()}/${month}/${day}/${hour}:${minutes}:${seconds}.txt`;\n\n    let noteJson;\n    try {\n      noteJson = note.toText();\n    } catch (e) {\n      if (e instanceof NotValidExeption) return Promise.reject(e);\n      throw e;\n    }\n\n    return this._dropbox.upload(path, noteJson)\n      .catch(e => {\n        if (e instanceof ConflictException) {\n          throw new Error(\"You are making notes too frequently. Calm down a bit.\");\n        }\n        throw e;\n      });\n  }\n}\n\nexport class NebNogField {\n  /**\n   * @param {boolean=} optional\n   */\n  constructor(optional) {\n    this._optional = optional ? true : false;\n  }\n\n  validate(value) {\n    return true;\n  }\n\n  /**\n   * @returns {HTMLSelectElement | HTMLInputElement | HTMLTextAreaElement}\n   */\n  toHtmlElement() {\n    throw new Error(\"Not implemented\");\n  }\n\n  __serialize() {\n    return {\n      optional: this._optional\n    };\n  }\n\n  /**\n   * @param {object} pojo\n   * @returns {void}\n   */\n  __unserialize(pojo) {\n    this._optional = pojo.optional;\n  }\n}\nS.registerConstructor(NebNogField.__type = \"NebNogField\", () => new NebNogField());\n\nexport class TextField extends NebNogField {\n  /**\n   * @param {{rows?: number, minLen?: number, maxLen?: number, regex?: RegExp, optional?: boolean}=} options\n   */\n  constructor(options) {\n    options = Object.assign(\n      { rows: undefined, minLen: undefined, maxLen: undefined, regex: undefined, optional: false },\n      options || {});\n    super(options.optional);\n    this._minLen = options.minLen;\n    this._maxLen = options.maxLen;\n    this._regex = options.regex;\n    this._rows = options.rows || 1;\n  }\n\n  toHtmlElement() {\n    let el;\n    if (this._rows > 1) {\n      el = document.createElement(\"textarea\");\n      el.rows = this._rows;\n    } else {\n      el = document.createElement(\"input\");\n      el.type = \"text\";\n    }\n    if (this._minLen) el.minLength = this._minLen;\n    if (this._maxLen) el.maxLength = this._maxLen;\n    return el;\n  }\n\n  validate(value) {\n    return typeof value == \"string\"\n      && (this._optional || !value.match(/^\\s*$/))\n      && (this._minLen === undefined || value.length >= this._minLen)\n      && (this._maxLen === undefined || value.length <= this._maxLen)\n      && (this._regex === undefined || value.match(this._regex) !== null);\n  }\n\n  __serialize() {\n    return Object.assign(super.__serialize(), {\n      minLen: this._minLen,\n      maxLen: this._maxLen,\n      regex: this._regex,\n      rows: this._rows\n    });\n  }\n\n  __unserialize(pojo) {\n    super.__unserialize(pojo);\n    this._minLen = pojo.minLen;\n    this._maxLen = pojo.maxLen;\n    this._regex = pojo.regex;\n    this._rows = pojo.rows;\n  }\n}\nS.registerConstructor(TextField.__type = \"TextField\", () => new TextField());\n\nexport class BooleanField extends NebNogField {\n  /**\n   * @param {string} yes\n   * @param {string} no\n   * @param {boolean=} optional\n   */\n  constructor(yes, no, optional) {\n    super(optional);\n    this._yes = yes;\n    this._no = no;\n  }\n\n  validate(value) {\n    return value == this._yes || value == this._no;\n  }\n\n  toHtmlElement() {\n    let el = document.createElement(\"input\");\n    el.type = \"checkbox\";\n    el.value = this._no;\n    el.onchange = () => el.checked ? el.value = this._yes : this._no;\n    return el;\n  }\n\n  __serialize() {\n    let pojo = super.__serialize();\n    pojo.yes = this._yes;\n    pojo.no = this._no;\n    return pojo;\n  }\n\n  __unserialize(pojo) {\n    super.__unserialize(pojo);\n    this._yes = pojo.yes;\n    this._no = pojo.no;\n  }\n}\nS.registerConstructor(BooleanField.__type = \"BooleanField\", () => new BooleanField());\n\nexport class SelectionField extends NebNogField {\n  /**\n   * @param {string[]} options\n   * @param {boolean=} optional\n   */\n  constructor(options, optional) {\n    super(optional);\n    this._options = options;\n  }\n\n  validate(value) {\n    return this._optional || this._options.indexOf(value) > -1;\n  }\n\n  toHtmlElement() {\n    let el = document.createElement(\"select\");\n    \n    let emptyOpt = document.createElement(\"option\");\n    emptyOpt.value = \"\";\n    emptyOpt.text = \"\";\n    el.add(emptyOpt, null);\n\n    this._options.forEach(value => {\n      let opt = document.createElement(\"option\");\n      opt.value = value;\n      opt.text = value;\n      el.add(opt, null);\n    });\n\n    return el;\n  }\n\n  __serialize() {\n    return Object.assign(super.__serialize(), {\n      options: this._options\n    });\n  }\n\n  __unserialize(pojo) {\n    super.__unserialize(pojo);\n    this._options = pojo.options;\n  }\n}\nS.registerConstructor(SelectionField.__type = \"SelectionField\", () => new SelectionField([]));\n\nexport class NebNogTemplate {\n  /**\n   * @param {string} name\n   */\n  constructor(name) {\n    this.name = name;\n    /**@type {Map<string, NebNogField>} */\n    this._fields = new Map();\n  }\n\n  /**\n   * @param {string} name\n   */\n  getField(name) {\n    let f = this._fields.get(name);\n    if (f === undefined) throw new Error(`No such field: ${name}`);\n    return f;\n  }\n\n  /**\n   * @returns {Map<string, NebNogField>}\n   */\n  getAllFields() {\n    return this._fields;\n  }\n\n  /**\n   * @param {string} name\n   * @param {NebNogField} field \n   */\n  addField(name, field) {\n    if (this._fields.has(name)) throw new Error(\"Field with the name already exist: \" + name);\n    this._fields.set(name, field);\n  }\n\n  __serialize() {\n    let fields = {};\n    this._fields.forEach((f, n) => fields[n] = S.serialize(f));\n    return {\n      name: this.name,\n      fields\n    };\n  }\n\n  /**\n   * @param {object} pojo\n   */\n  __unserialize(pojo) {\n    this.name = pojo.name;\n    this._fields = new Map();\n    Object.keys(pojo.fields)\n      .forEach(name => this._fields.set(name, S.unserialize(pojo.fields[name])));\n  }\n}\nS.registerConstructor(NebNogTemplate.__type = \"NebNogTemplate\", () => new NebNogTemplate(\"\"));\n\nexport class NotValidExeption extends Error {\n  constructor(name, value) {\n    super(`The value of the field ${name} is not valid: ${value}`);\n    this.name = name;\n    this.value = value;\n  }\n}\n\nexport class NebNogNote {\n  /**\n   * @param {NebNogTemplate} template\n   * @param {NebNog} nebnog\n   */\n  constructor(template, nebnog) {\n    this._template = template;\n    this._nebnog = nebnog;\n    /**@type {Map<string, string>} */\n    this._values = new Map();\n  }\n\n  setFieldValue(name, value) {\n    let f = this._template.getField(name);\n    if (!f) throw new Error(\"No such field: \" + name);\n    if (value == \"\" && f._optional || f.validate(value)) {\n      this._values.set(name, value);\n      return;\n    }\n    throw new NotValidExeption(name, value);\n  }\n\n  /**\n   * @returns {Promise<void>}\n   */\n  save() {\n    return this._nebnog._saveNote(this);\n  }\n\n  /**\n   * @returns {object}\n   * @throws {NotValidExeption}\n   */\n  _toObject() {\n    this._template.getAllFields().forEach((f, n) => {\n      if (!f._optional && !this._values.has(n)) throw new NotValidExeption(n, \"\");\n    });\n    let values = {};\n    this._values.forEach((value, name) => values[name] = value);\n    return {template: this._template.name, values};\n  }\n\n  /**\n   * @returns {string}\n   * @throws {NotValidExeption}\n   */\n  toText() {\n    this._template.getAllFields().forEach((f, n) => {\n      if (!f._optional && !this._values.has(n)) throw new NotValidExeption(n, \"\");\n    });\n    let result = `# ${this._template.name}\\n`;\n    this._values.forEach((value, name) => result += `\\n${name}\\n${indent(value, \"  \")}\\n`);\n    return result;\n  }\n}\n\nfunction appendZero(v) {\n  return v < 10 ? \"0\" + v : \"\" + v;\n}\n\n/**\n * @param {string} text\n * @param {string} indention\n */\nfunction indent(text, indention) {\n  return indention + text.replace(/(\\n)/g, \"$1\" + indention);\n}","/**@type {Map<HTMLElement, {spinnerDiv: HTMLDivElement, nesting: number}>} */\nlet spinners = new Map();\n\nfunction spinner(el) {\n  el = el || document.body;\n\n  let s = spinners.get(el);\n  if (s !== undefined) {\n    s.nesting++;\n    return;\n  }\n\n  let spinnerDiv = document.createElement(\"div\");\n  spinnerDiv.style.position = \"absolute\";\n  spinnerDiv.style.left = el.offsetLeft + \"px\";\n  spinnerDiv.style.top = el.offsetTop + \"px\";\n  spinnerDiv.style.width = el.offsetWidth + \"px\";\n  spinnerDiv.style.height = el.offsetHeight + \"px\";\n  spinnerDiv.style.backgroundColor = \"#eeeeee\";\n  spinnerDiv.style.opacity = \"0.8\";\n  document.body.appendChild(spinnerDiv);\n\n  let d = document.createElement(\"div\");\n  d.classList.add(\"loader\");\n  d.innerText = \"Loading...\";\n\n  spinnerDiv.appendChild(d);\n\n  el.appendChild(spinnerDiv);\n\n  spinners.set(el, {spinnerDiv, nesting: 1});\n}\n\nfunction unspinner(el) {\n  el = el || document.body;\n\n  let s = spinners.get(el);\n  if (s === undefined) throw new Error(\"unspinner() call without calling spinner()\");\n\n  s.nesting--;\n  \n  if (s.nesting > 0) return;\n  \n  s.spinnerDiv.parentNode.removeChild(s.spinnerDiv);\n  s.spinnerDiv = null;\n\n  spinners.delete(el);\n}\n\n/**\n * @template T\n * @param {Promise<T>} promise\n * @param {HTMLElement=} el\n * @returns {Promise<T>}\n */\nexport function withSpinner(promise, el) {\n  spinner(el);\n  return promise\n    .then(result => {\n      unspinner(el);\n      return result;\n    })\n    .catch(reason => {\n      unspinner(el);\n      throw reason;\n    });\n}","// @ts-ignore\nimport cssWater from './water.css';\n// @ts-ignore\nimport cssStyle from './style.css';\n// @ts-ignore\nimport cssSpinner from './spinner.css';\n\nimport {Dropbox, DropboxAuth, UnauthorizedException} from './dropbox';\nimport * as config from './config';\nimport {NebNog, NebNogTemplate, TextField, BooleanField, SelectionField, NotValidExeption} from './nebnog';\nimport {random} from './random';\nimport {withSpinner} from './spinner';\n\nconst btnAuth = document.getElementById(\"btnAuth\");\nconst authForm = document.getElementById(\"authForm\");\nconst addNoteForm = document.getElementById(\"frmAddNote\");\n/**@type {HTMLButtonElement} */\nconst btnCreate = document.getElementById(\"btnNewNote\");\n\nlet auth = new DropboxAuth(config.clientId, window.location.href);\nauth.persist(\"dropboxAuth\");\n\nlet dropbox = new Dropbox(auth);\nlet nebnog = new NebNog(dropbox);\n\nlet query = new URLSearchParams(window.location.search);\nlet code = query.get(\"code\");\nif (code) {\n  auth.setCode(code);\n  history.replaceState({}, \"\", window.location.pathname);\n}\n\nauthForm.style.display = \"none\";\naddNoteForm.style.display = \"none\";\n\nif (auth.present()) {\n  withSpinner(\n    nebnog.loadTemplates()\n      .then(() => {\n        if (nebnog._templates.size == 0) {\n          return createDefaultTemplates();\n        }\n      })\n      .then(initialized));\n} else {\n  authForm.style.display = \"block\";\n  addNoteForm.style.display = \"none\";\n}\n\nbtnAuth.onclick = () => {\n  btnAuth.style.display = \"none\";\n  openUrl(auth.generateAuthLink());\n};\n\n/**\n * @param {string} text \n * @param {HTMLElement=} el \n */\nfunction message(text, el) {\n  el = el || document.body;\n\n  let mark = document.createElement(\"mark\");\n  mark.classList.add(\"message\");\n  mark.innerText = text;\n\n  el.after(mark);\n\n  setTimeout(() => mark.parentNode.removeChild(mark), 3000);\n}\n\n/**\n * @param {string} text \n * @param {HTMLElement} el \n */\nfunction error(text, el) {\n  if (el.nextSibling !== null && el.nextSibling.classList && el.nextSibling.classList.contains(\"error\")) {\n    el.nextSibling.parentNode.removeChild(el.nextSibling);\n  }\n\n  el.classList.add(\"error\");\n\n  let mark = document.createElement(\"mark\");\n  mark.classList.add(\"error\");\n  mark.classList.add(\"message\");\n  mark.innerText = text;\n\n  el.after(mark);\n}\n\nfunction openUrl(url, newWindow) {\n  if (newWindow) {\n    let w = window.open(url, \"dropboxauth\");\n    if (w == null) {\n      message(\"Please allow pop-ups and reload the page\");\n      return null;\n    } else {\n      w.focus();\n      return () => w.close();\n    }\n  }\n\n  window.location = url;\n  return () => true;\n}\n\n/**@type {Map<string, (HTMLSelectElement | HTMLInputElement | HTMLTextAreaElement)>} */\nlet fields = new Map();\n\n/**@type {NebNogTemplate} */\nlet template;\n\n/**@type {HTMLSelectElement} */\nconst noteTemplate = $(\"noteTemplate\");\nbtnCreate.disabled = true;\nnoteTemplate.onchange = () => {\n  btnCreate.disabled = true;\n  let noteFields = $(\"noteFields\");\n  noteFields.innerHTML = \"\";\n  fields.clear();\n\n  if (noteTemplate.selectedIndex < 1) return;\n\n  btnCreate.disabled = false;\n\n  /**@type {NebNogTemplate} */\n  template = noteTemplate.options[noteTemplate.selectedIndex]._template;\n\n  template.getAllFields().forEach((f, name) => {\n    let el = f.toHtmlElement();\n    el.id = uuid();\n    el.required = !f._optional;\n    fields.set(name, el);\n    el.onchange = () => {\n      el.classList.remove(\"error\");\n    };\n\n    if (el.tagName == \"INPUT\" && el.type == \"checkbox\") {\n      let label = document.createElement(\"label\");\n      let text = document.createTextNode(\" \" + name);\n      label.htmlFor = el.id;\n      label.appendChild(text);\n\n      let p = document.createElement(\"p\");\n      p.appendChild(el);\n      p.appendChild(label);\n\n      noteFields.appendChild(p);\n    } else {\n      let label = document.createElement(\"label\");\n      label.htmlFor = el.id;\n      label.innerText = name;\n\n      let p = document.createElement(\"p\");\n      p.appendChild(label);\n      p.appendChild(el);\n\n      noteFields.appendChild(p);\n    }\n  });\n};\n\nbtnCreate.onclick = () => {\n  let note = nebnog.createNote(template.name);\n  let valid = true;\n  try {\n    for (let el of addNoteForm.querySelectorAll(\".error + mark\")) el.parentNode.removeChild(el);\n    fields.forEach(el => el.classList.remove(\"error\"));\n    fields.forEach((el, name) => note.setFieldValue(name, el.value));\n  } catch (e) {\n    if (e instanceof NotValidExeption) {\n      let el = fields.get(e.name);\n      error(e.message, el);\n      valid = false;\n    }\n    else throw e;\n  }\n\n  if (valid) {\n    withSpinner(\n      note.save()\n          .then(() => message(\"Created!\", btnCreate))\n          .then(() => {\n            noteTemplate.selectedIndex = 0;\n            noteTemplate.onchange();\n          })\n          .catch(e => {\n            if (e instanceof UnauthorizedException) {\n              auth.reset();\n              message(\"ERROR: Unauthorized. Please authorize Dropbox\");\n              authForm.style.display = \"block\";\n              addNoteForm.style.display = \"none\";\n              return;\n            } else if (e instanceof NotValidExeption) {\n              let el = fields.get(e.name);\n              error(e.message, el);\n              return;\n            }\n            message(\"ERROR: \" + e.toString(), btnCreate);\n          }),\n      addNoteForm);\n    }\n};\n\nfunction initialized() {\n  authForm.style.display = \"none\";\n  addNoteForm.style.display = \"block\";\n  $(\"noteFields\").innerHTML = \"\";\n\n  let emptyOpt = document.createElement(\"option\");\n  emptyOpt.value = \"\";\n  emptyOpt.text = \"Select a template\";\n  noteTemplate.add(emptyOpt, null);\n\n  nebnog._templates.forEach(template => {\n    let opt = document.createElement(\"option\");\n    opt.value = \"\";\n    opt.text = template.name;\n    opt._template = template;\n    noteTemplate.add(opt, null);\n  });\n}\n\nfunction createDefaultTemplates() {\n  let templates = [];\n\n  let t = new NebNogTemplate(\"Как прошёл день\");\n  t.addField(\"Спорт?\", new SelectionField([\"Тайчи\", \"Велик\"], true));\n  t.addField(\"Голова?\", new BooleanField(\"Болела\", \"Не болела\"));\n  t.addField(\"Шея?\", new BooleanField(\"Болела\", \"Не болела\"));\n  t.addField(\"Приступ?\", new SelectionField([\"Нет\", \"Несильно\", \"Сильно\"], true));\n  t.addField(\"Алкоголь?\", new SelectionField([\"Нет\", \"Немного\", \"Да\"]));\n  t.addField(\"Заметки\", new TextField({optional: true, rows: 5}));\n  templates.push(t);\n\n  t = new NebNogTemplate(\"Дневничок\");\n  t.addField(\"Заметки\", new TextField({rows: 5}));\n  templates.push(t);\n  \n  return withSpinner(Promise.all(templates.map(t => nebnog.addTemplate(t))));\n}\n\nfunction $(id) {\n  return document.getElementById(id);\n}\n\nfunction uuid() {\n  return \"id\" + random(0, 1 << 30);\n}\n\n","export const clientId = \"6zhy69g9ly8zaua\";"],"sourceRoot":""}